<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>PassDiffuser</title>
	</head>
	<body>
		<h2>original</h2>
		<input type="text" id="original" />

		<h2>altered</h2>
		<input type="text" id="altered" />

		<h2>diffused</h2>
		<input type="text" id="diffused" />

		<button onclick="diffuse()">Diffuse</button>
	</body>

	<script>
		//a-z + A-Z + 0-9
		const char_set =
			"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"

		function diffuse() {
			const remaining_chars = 5

			const original_text = document.getElementById("original").value
			const altered_text = document.getElementById("altered").value
			const diffused = document.getElementById("diffused")

			const per_char = Math.floor(original_text.length / altered_text.length)
			const remaining = original_text.length % altered_text.length

			//seperate
			let original_seperated = []
			for (
				let cnt = 0;
				cnt < Math.floor(original_text.length / per_char);
				cnt++
			) {
				original_seperated.push(
					original_text.slice(cnt * per_char, (cnt + 1) * per_char),
				)
			}
			original_seperated.push(
				original_text.slice(
					original_seperated.length * per_char,
					original_text.length,
				),
			)

			//create diffusion dictionary
			let diffusion_dictionary = {}
			for (let cnt = 0; cnt < char_set.length; cnt++) {
				diffusion_dictionary[char_set[cnt]] = []
			}

			//correct data
			for (
				let cnt_original = 0;
				cnt_original < original_seperated.length;
				cnt_original++
			) {
				diffusion_dictionary[altered_text[cnt_original]].push(
					original_seperated[cnt_original],
				)
			}
		}
	</script>
</html>
